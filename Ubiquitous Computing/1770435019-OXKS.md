---
id: AODV
aliases:
  - AODV
tags:
  - University
  - UbiComp
---

# Ad Hoc On-Demand Distance Vector Routing (AODV)

- **Why DSR is not that good**
    - DSR need to include route in packet header making header size varies causing performance degradation.

- AODV try to improve on that by not include those route in the packet header but let each node maintain the routing table instead.

- Route are maintained by only intermediate nodes which need to communicate.

## Mechanism

- RREQ forwarded just like DSR
- When a node re-broadcast it also setup a reverse path toward the source
    - *AODV Assumes bi-directional communication*

- When the destination node get RREQ, it reply by sending RREP (Route Reply).
- RREP travel along the reverse path setup from forwared RREQ.
- Intermediate node can also send RREP:
    - Only sent if it knows more recent path previously known.
    - The recency are determined by using *destination sequence number*.
    - Making route discovery faster

## Route Error
- If certain node X is unable to forward packet (S -> D) on link (X, Y) it generate Route Error (RERR)
- Node X increment the DSN to N for (S -> D). (Basically invalidate this route) and include it in RERR
- Node S receive RERR and redo the route discorvery from S to D using DSN >= N

> Destination sequence number avoid using old or broken routes and prevent loop formation

## Optimization: Expanding Ring Search
- RREQ send with lifespan or Time-To-Live (TTL) limiting proprogation.
- If RREP use larger TTL
- *Note: DSR also use similiar optimization*

## TCP (Quick)

- Sender send part of data sequence and wait for ACK (Acknowlegdge)
- Of ACK is not recieved before timeout then it will try to send again util ACK is received.

![TCP](TCP.png)

![TCP Retransmission](TCP_Retransmission.png)

- While this is good this could cause congest as and ACK accumulation

![TCP2.png](TCP2.png)

### TCP Congestion Control
- Congestion: Too many sources sending too much data too fast for network can handle and could cause:
    - Long delay (Queueing in router buffer)
    - Packet Loss (Buffer overflow)
- **Congestion Scenario I (Simple):**
    - One router, infinite buffers
    - Input, Output link capacity: R
    - No Retransmission

![Congestion I.png](Congestion%20I.png)

![Congestion I: Graph](Congestion%20II.png)

- **Congestion Scenario II**
    - One router, finite buffers.
    - Sender retransmit lost / timed out packet

![Congestion II.png](Congestion%20II.png)



